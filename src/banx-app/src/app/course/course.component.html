<div class="row">
  <div class="col-3">
    <div class="container-fluid">
      <h3 class="row"></h3>
      <ul *ngIf="repos$ | async as repos">
        <li class="row" *ngFor="let repo of repos">
          <app-dir-view [dir]="repo.dir" [refresh$]="repo.refreshed$"
              (fileSelected$)="selectedFile$.next($event)"
              (toggled$)="refresh(repo, $event)">
          </app-dir-view>
        </li>
      </ul>
    </div>
  </div>

  <div class="col-9">
    <div class="container-fluid">
      <ng-container *ngIf="selectedFile$ | async as selectedFile; else noFile">
        <div class="row">{{selectedFile}}:</div>
        <div class="row">
          <angular-monaco-editor class="editor" [options]="editorOptions" [(ngModel)]="editorText">
          </angular-monaco-editor>
        </div>
        <div class="row">
          <div class="col">
            <button class="btn btn-primary" (click)="saveEdits()">Save</button>
          </div>
          <div class="col">
            <button class="btn btn-secondary" (click)="rename()">Rename</button>
          </div>
          <div class="col">
            <button class="btn btn-danger">Delete</button>
          </div>
        </div>
      </ng-container>
      <ng-template #noFile>
        <div class="row">No file selected.</div>
      </ng-template>
    </div>
  </div>
</div>