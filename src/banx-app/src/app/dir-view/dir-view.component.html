<app-collapsible [itemName]="dir" (toggled)="_toggled$.next($event)">
  <div class="container-fluid" *ngIf="tree$ | async as tree">
    <li>
      <button class="btn btn-link" (click)="newFile()">+File</button>
      <button class="btn btn-link" (click)="newDir()">+Dir</button>
    </li>
    <app-dir-view *ngFor="let subdir of tree.subdirs"
      [dir]="fullPath(subdir)" [refresh$]="refresh$"
      (fileSelected$)="_fileSelected$.next($event)">
    </app-dir-view>
    <li class="row direntry" *ngFor="let file of tree.files"
      (click)="selectFile(file)">
      {{file}}
    </li>
  </div>
</app-collapsible>